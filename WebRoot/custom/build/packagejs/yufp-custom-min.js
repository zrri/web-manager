(function(e,d,b){var c=(typeof define==="function");if(c){var a=b(e);define(a);d.yufp.settings=a}else{var a=b(e);d.yufp.settings=a}}(yufp,window,function(b){var a={config:function(c){b.extend(this,c)}};return a}));(function(d,c){var a={number:function(g,f,h){var e=/^\d+$/;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("数字类型错误"))}else{h()}}},age:function(h,g,j){var f=/^\d+$/;if(g&&f.test(g)){var e=parseInt(g);if(e<200){j()}else{j(new Error("年龄不合法"))}}else{if(g&&!f.test(g)){j(new Error("数字类型错误"))}else{j()}}},postcode:function(g,f,h){var e=/^[1-9]\d{5}$/;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("邮编格式不正确"))}else{h()}}},ip:function(g,f,h){var e=/^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("ip地址格式不正确"))}else{h()}}},telephone:function(g,f,h){var e=/(^\d{3}\-\d{7,8}$)|(^\d{4}\-\d{7,8}$)|(^\d{3}\d{7,8}$)|(^\d{4}\d{7,8}$)|(^\d{7,8}$)/;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("固定电话或小灵通电话格式不正确"))}else{h()}}},phone:function(g,f,h){var e=/(^\d{3}\-1[3458][0-9]\d{8}$)|(^\d{2}\-1[3458][0-9]\d{8}$)/;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("固定电话格式不正确"))}else{h()}}},numberAndLetter:function(g,f,h){var e=/(^[A-Za-z0-9]+$)|([A-Za-z]+$)|([0-9]+$)/;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("请输入数字和字母"))}else{h()}}},mobile:function(g,f,h){var e=/^1[3-9][0-9]\d{8}$/;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("手机号码不正确"))}else{h()}}},IDCard:function(k,m,n){if(!m){n()}else{var g={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};var f,l;var h,j;var e=new Array();e=m.split("");if(g[parseInt(m.substr(0,2))]==null){n(new Error("身份证号码地区非法"))}switch(m.length){case 15:if((parseInt(m.substr(6,2))+1900)%4==0||((parseInt(m.substr(6,2))+1900)%100==0&&(parseInt(m.substr(6,2))+1900)%4==0)){ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}$/}else{ereg=/^[1-9][0-9]{5}[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}$/}if(ereg.test(m)){n()}else{n(new Error("身份证号码出生日日期有误"))}break;case 18:if(parseInt(m.substr(6,4))%4==0||(parseInt(m.substr(6,4))%100==0&&parseInt(m.substr(6,4))%4==0)){ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|[1-2][0-9]))[0-9]{3}[0-9Xx]$/}else{ereg=/^[1-9][0-9]{5}19[0-9]{2}((01|03|05|07|08|10|12)(0[1-9]|[1-2][0-9]|3[0-1])|(04|06|09|11)(0[1-9]|[1-2][0-9]|30)|02(0[1-9]|1[0-9]|2[0-8]))[0-9]{3}[0-9Xx]$/}if(ereg.test(m)){h=(parseInt(e[0])+parseInt(e[10]))*7+(parseInt(e[1])+parseInt(e[11]))*9+(parseInt(e[2])+parseInt(e[12]))*10+(parseInt(e[3])+parseInt(e[13]))*5+(parseInt(e[4])+parseInt(e[14]))*8+(parseInt(e[5])+parseInt(e[15]))*4+(parseInt(e[6])+parseInt(e[16]))*2+parseInt(e[7])*1+parseInt(e[8])*6+parseInt(e[9])*3;f=h%11;j="F";l="10X98765432";j=l.substr(f,1);if(j==e[17]){n()}else{n(new Error("身份证号码末位校验位校验出错,请注意x的大小写"))}}else{n(new Error("身份证号码出生日期有误"))}break;default:n(new Error("身份证号码位数不对,应该为15位或是18位"));break}}},isChnChar:function(g,f,h){var e=/[\u4E00-\u9FA5]/;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("只能输入中文"))}else{h()}}},trim:function(f,e,g){if(e!=e.trim()){g(new Error("输入项首尾有空格"))}else{g()}},email:function(g,f,h){var e=/[A-Za-z0-9_-]+[@](\S*)(net|com|cn|org|cc|tv|[0-9]{1,3})(\S*)/g;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("电子邮箱格式不正确"))}else{h()}}},digit:function(g,f,h){var e=/^-?\d+(\.\d+)?$/g;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("请输入小数"))}else{h()}}},pInt:function(g,f,h){var e=/^\+?[1-9][0-9]*$/;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("请输入非零正整数"))}else{h()}}},gZero:function(g,f,h){var e=/^[\+]?[0-9]*\d(\.\d+)?$/;if(f&&e.test(f)){h()}else{if(f&&!e.test(f)){h(new Error("请输入非零正整数"))}else{h()}}}};var b=(typeof define==="function");if(b){define(a);c.yufp.validator=a}else{c.yufp.validator=a}}(yufp,window));(function(d,c,b){var a=b(d,c,c.document);if(typeof define==="function"){define(a)}c.yufp.util=a}(yufp,window,function(e,c,a){function d(){}d.prototype.dateFormat=function(k,j){if(arguments.length===0){return null}j=j||"{y}-{m}-{d} {h}:{i}:{s}";var g;if(typeof k==="object"){g=k}else{if((""+k).length===10){k=parseInt(k)*1000}g=new Date(k)}var f={y:g.getFullYear(),m:g.getMonth()+1,d:g.getDate(),h:g.getHours(),i:g.getMinutes(),s:g.getSeconds(),a:g.getDay()};var h=j.replace(/{(y|m|d|h|i|s|a)+}/g,function(l,m){var n=f[m];if(m==="a"){return["一","二","三","四","五","六","日"][n-1]}if(l.length>0&&n<10){n="0"+n}return n||0});return h};d.prototype.getExplorer=function(){var f=c.navigator.userAgent;if(f.indexOf("MSIE")>=0){return"ie"}else{if(f.indexOf("Firefox")>=0){return"Firefox"}else{if(f.indexOf("Chrome")>=0){return"Chrome"}else{if(f.indexOf("Opera")>=0){return"Opera"}else{if(f.indexOf("Safari")>=0){return"Safari"}}}}}};d.prototype.exportExcelByTable=function(n){var u=n.ref;var g=u.tableColumns;var p=new Array();var q=g.concat([]);var y=u.$el.getElementsByClassName("el-table__header-wrapper")[0].getElementsByTagName("tr");var C=1;var E=function(o,k){if(o&&o instanceof Array==true){for(var j=0;j<o.length;j++){var S=o[j];if(S.children&&S.children instanceof Array==true){S.colspan=S.children.length-1;if(C<S.children.length){k.map(function(T,U){if(S.label!=T.label){T.rowspan=(T.rowspan==undefined?0:T.rowspan)+1}});C+=1}E(S.children,S.children,j)}}}};E(q,q);var J=function(S,k,j,T){var o={s:{c:0,r:0},e:{c:0,r:0}};if(S.colspan==0&&!T){o.s.c=k;o.e.c=k}else{if(S.colspan==0&&T){o.s.c=T;o.e.c=T}else{if(S.colspan!=0&&!T){o.s.c=k;o.e.c=parseInt(k+S.colspan)}else{if(S.colspan!=0&&T){o.s.c=T;o.e.c=parseInt(T+S.colspan)}}}}if(S.rowspan==0){o.s.r=j;o.e.r=parseInt(j+S.rowspan)}else{o.s.r=j;o.e.r=parseInt(j+S.rowspan)}return o};var r=[];var B=[];var D=[];var O="ABCDEFGHIJKLMNOPQRSTUVWXYZ";var A=0;var h=1;var s=0;var w=function(S,o,U){if(S&&S instanceof Array==true){for(var k=0;k<S.length;k++){var T=S[k];r.push(T.label);T.rowspan=T.rowspan==undefined?0:T.rowspan;T.colspan=T.colspan==undefined?0:T.colspan;if(T.children&&T.children instanceof Array==true){D.push(O.charAt(parseInt(k+A))+"1");var j=J(T,k,A);B.push(j);h+=1;A=A+1;s=0;w(T.children,T.children,k);A=A-1;s=parseInt(T.children.length-1)}else{var j=J(T,k+s,A,U+k);B.push(j);if(U){D.push(O.charAt(U+k)+h)}else{D.push(O.charAt(parseInt(k+h-1))+"1")}}}}};w(q,q);var G=function(k,j){var S;for(var o=0;o<j.length;o++){if(j[o].children&&j[o].children instanceof Array==true){S=G(k,j[o].children)}else{if(k==j[o].label&&j[o].prop){S=j[o].prop;break}}}return S};var z=[];for(var L=0;L<r.length;L++){var R=G(r[L],q);if(R){z[z.length]=R}}var M=function(o,j){var S;for(var k=0;k<j.length;k++){if(j[k].children&&j[k].children instanceof Array==true){R=G(o,j[k].children)}else{if(o==j[k].prop&&j[k].prop){S=j[k].dataCode;break}}}return S};var P=[];var m=[];if(n.importType=="page"){m=u.data}else{if(n.importType=="selected"){m=u.selections}else{if(n.importType=="service"){e.service.request({url:n.url,async:false,data:n.param,method:n.method?n.method:"GET",callback:function(o,k,j){m=j.data}})}}}for(var L=0;L<m.length;L++){var F={};var v=m[L];for(var K=0;K<z.length;K++){var I=z[K];var f=M(I,q);if(f){var Q=e.lookup.convertKey(f,v[I]);F[""+I+""]=Q}else{F[""+I+""]=v[I]}}P.push(F)}for(var L=1;L<y.length;L++){P.unshift({})}var N={bookType:"xlsx",bookSST:true,type:"binary"};var l=function(k,o){var j=a.createElement("a");j.download=o||"下载";j.href=URL.createObjectURL(k);j.click();setTimeout(function(){URL.revokeObjectURL(k)},100)};var H=function(S){if(typeof ArrayBuffer!=="undefined"){var k=new ArrayBuffer(S.length);var j=new Uint8Array(k);for(var o=0;o!=S.length;++o){j[o]=S.charCodeAt(o)&255}return k}else{var k=new Array(S.length);for(var o=0;o!=S.length;++o){k[o]=S.charCodeAt(o)&255}return k}};var x={SheetNames:["Sheet1"],Sheets:{},Props:{}};P=XLSX.utils.json_to_sheet(P);for(var L=0;L<D.length;L++){P[D[L]]={t:"s",v:r[L]}}P["!merges"]=B;x.Sheets.Sheet1=P;l(new Blob([H(XLSX.write(x,N))],{type:"application/octet-stream"}),n.fileName+"."+(N.bookType=="biff2"?"xls":N.bookType))};d.prototype.array2tree=function(l,r){var q={id:"id",pid:"parentId",root:"0"};e.extend(q,r||{});var h=q.id,g=q.pid;var o,j=[];if(typeof q.root==="object"){o=q.root}else{var p={};p[h]=q.root;o=p}var f=""+o[h];for(var k=0,m=l.length;k<m;k++){var n=l[k];if(f===""+n[h]){o=n}else{if(f===""+n[g]){j.push(n)}}}o.id=o[h];j=o.children?o.children.concat(j):j;o.children=j;for(var k=0,m=o.children.length;k<m;k++){q.root=o.children[k];o.children[k]=this.array2tree(l,q)}return o};d.prototype.genTree=function(k,f){var g={};if(k==null||k.length==0){return[]}if(f.root==null||f.root==undefined||f.root==""){var l=function(p,n){var q={};q=p[0];for(var m=1;m<p.length;m++){var o=1;for(;o<p.length;o++){if(p[o][n.id]==q[n.pid]){q=p[o];break}}if(o==p.length-1){break}}return q};g.id=l(k,f)[f.pid]}else{if(typeof(f.root)=="object"){var g=f.root;g.id=g[f.id]===undefined?g.id:g[f.id];g.pid=g[f.pid]===undefined?g.pid:g[f.pid];g.label=g[f.label]===undefined?g.label:g[f.label]}else{for(var h in k){if(k[h][f.id]==f.root){g.id=k[h][f.pid];break}}g.id=g.id==undefined?f.root:g.id}}var j=function(q,m){var o={},u={};for(var n=0;n<q.length;n++){var s=q[n];s.id=s[m.id];s.pid=s[m.pid];s.label=s[m.label];s.children=[];o[s.id]=s;if(u[s.pid]){u[s.pid].push(s)}else{u[s.pid]=[s]}var v=u[s.id];if(v){s.children=v.concat()}var r=o[s.pid];if(r){r.children.push(s)}}return u};if(g.label){g.children=j(k,f)[g.id];return[g]}return j(k,f)[g.id]};d.prototype.clone=function(j){var f={};if(typeof(j)=="object"){var h=this;var g=function(n){var m={};for(var l in n){var p=n[l];if(typeof(p)=="object"){m[l]=h.objClone(p)}else{m[l]=n[l]}}return m};f=g(j)}else{alert("clone方法目前只支持对象!")}return f};d.prototype.addTokenInfo=function(f){var h="access_token=";var g="";if(f==null||f==""){return g}if(!f.indexOf(h)>-1){g=f+((f.indexOf("?")>-1)?"&":"?")+h+e.service.getToken()}return g};d.prototype.download=function(g){if(g){if(g.indexOf("http")<=-1){g=e.service.getUrl({url:g})}}else{this.$message("必须设置请求url!","警告")}g=this.addTokenInfo(g);var f=a.createElement("a");f.href=g;f.click()};d.prototype.moneyFormatter=function(h,g){g=g>0&&g<=20?g:2;h=parseFloat((h+"").replace(/[^\d\.-]/g,"")).toFixed(g)+"";var f=h.split(".")[0].split("").reverse(),j=h.split(".")[1];t="";for(i=0;i<f.length;i++){t+=f[i]+((i+1)%3==0&&i+1!=f.length?",":"")}return t.split("").reverse().join("")+"."+j};d.prototype.moneyToUpper=function(o){var C=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"];var l=["","拾","佰","仟"];var D=["","万","亿","兆"];var k=["角","分","毫","厘"];var j="整";var f="元";var z=1000000000000000;var B;var g;var y="";var v;if(o==""){return""}o=parseFloat(o);if(o>=z){return""}if(o==0){y=C[0]+f+j;return y}o=o.toString();if(o.indexOf(".")==-1){B=o;g=""}else{v=o.split(".");B=v[0];g=v[1].substr(0,4)}if(parseInt(B,10)>0){var r=0;var E=B.length;for(var A=0;A<E;A++){var w=B.substr(A,1);var u=E-A-1;var s=u/4;var x=u%4;if(w=="0"){r++}else{if(r>0){y+=C[0]}r=0;y+=C[parseInt(w)]+l[x]}if(x==0&&r<4){y+=D[s]}}y+=f}if(g!=""){var h=g.length;for(var A=0;A<h;A++){var w=g.substr(A,1);if(w!="0"){y+=C[Number(w)]+k[A]}}}if(y==""){y+=C[0]+f+j}else{if(g==""){y+=j}}return y};d.prototype.upperToMoney=function(r){var k=[0,1,2,3,4,5,6,7,8,9];var z=["零","壹","贰","叁","肆","伍","陆","柒","捌","玖"];var n=[10,100,1000];var m=["拾","佰","仟"];var A=["万","亿","兆"];var u=[0.1,0.01];var l=["角","分"];var s;var f;var j;var o=[];var w=[];var h=[];var q=r.split("元");s=q[0];f=q[1].split("");if(s.indexOf("亿")!==-1){o=s.split("亿")[0].split("");if(s.indexOf("万")!==-1){w=s.split("亿")[1].split("万")[0].split("");h=s.split("亿")[1].split("万")[1].split("")}else{h=s.split("亿")[1].split("")}}else{if(s.indexOf("万")!==-1){w=s.split("万")[0].split("");h=s.split("万")[1].split("")}else{h=s.split("")}}var v=function(C,L,E,J,B){var D=C.length;var G=0;var I=0;for(var F=0;F<D;F++){var H=L.indexOf(C[F]);var K=E.indexOf(C[F]);if(H!==-1){G+=J[H];if(F==(D-1)){I+=G}}if(K!==-1){G*=B[K];I+=G;G=0}}return I};var p=v(o,z,m,k,n);var g=v(w,z,m,k,n);var x=v(h,z,m,k,n);var y=v(f,z,l,k,u);j=p*100000000+g*10000+x+y;return j};d.prototype.logInfo=function(g,f){e.service.request({url:f,method:"post",data:g,callback:function(j,k,h){if(j!==0||!h){e.logger.warn("日志上传失败")}}})};var b=new d();Date.prototype.toJSON=function(){return b.dateFormat(this,"{y}-{m}-{d}")};return b}));(function(e,d,b){var c=(typeof define==="function");if(c){var a=b(e,d);define(a);e.localStorage=a}else{var a=b(e,d);e.localStorage=a}}(yufp,window,function(g,f){function e(){}e.Types={stringType:"00",numberType:"01",booleanType:"02",jsonType:"03"};e.prototype.put=function h(j,m){var l=g.type(j);if(l!="string"){console.error("the type of key is not string");return}var n;var o=g.type(m);if(o=="object"){var k=JSON.stringify(m);n=e.Types.jsonType+k}else{if(o=="string"){n=e.Types.stringType+m}else{if(o=="number"){n=e.Types.numberType+m}else{if(o=="boolean"){n=e.Types.booleanType+m}else{console.error("the type of value is not supported");return}}}}f.localStorage.setItem(j,n)};e.prototype.get=function d(j){var l=typeof(j);if(l!="string"){console.error("the type of key is not string");return undefined}var m=f.localStorage.getItem(j);if(m==null||m==undefined){return m}var n=m.substring(0,2);var k=m.substring(2,m.length);if(n==e.Types.jsonType){k=JSON.parse(k)}else{if(n==e.Types.numberType){k=Number(k)}else{if(n==e.Types.booleanType){k=Boolean(k)}}}return k};e.prototype.remove=function b(j){var k=typeof(j);if(k!="string"){console.error("the type of key is not string");return undefined}f.localStorage.removeItem(j)};e.prototype.clear=function a(j){f.localStorage.clear()};var c=new e();return c}));(function(e,d,b){var c=(typeof define==="function");if(c){var a=b(e,d);define(a);e.sessionStorage=a}else{var a=b(e,d);e.sessionStorage=a}}(yufp,window,function(f,e){function g(){}g.Types={stringType:"00",numberType:"01",booleanType:"02",jsonType:"03"};g.SystemReadyOnly="_$sys_session_readyOnly";g.prototype.isSystemKey=function(j){if(j&&j.indexOf("_$sys_session_")==0){return true}return false};g.prototype.put=function h(k,o,m){var n=f.type(k);if(n!="string"){console.error("the type of key is not string");return}if(this.isSystemKey(k)){console.error("the key name is illegal");return}var j=e.sessionStorage.getItem(g.SystemReadyOnly);if(!j){j=[]}else{j=JSON.parse(j)}if(j.indexOf(k)!=-1){console.error("the key is ready only");return}var p;var q=f.type(o);if(q=="object"){var l=JSON.stringify(o);p=g.Types.jsonType+l}else{if(q=="string"){p=g.Types.stringType+o}else{if(q=="number"){p=g.Types.numberType+o}else{if(q=="boolean"){p=g.Types.booleanType+o}else{console.error("the type of value is not supported");return}}}}if(m&&m==true){j.push(k);j=JSON.stringify(j);e.sessionStorage.setItem(g.SystemReadyOnly,j)}e.sessionStorage.setItem(k,p)};g.prototype.get=function c(j){var l=typeof(j);if(l!="string"){console.error("the type of key is not string");return undefined}var m=e.sessionStorage.getItem(j);if(m==null||m==undefined){return m}var n=m.substring(0,2);var k=m.substring(2,m.length);if(n==g.Types.jsonType){k=JSON.parse(k)}else{if(n==g.Types.numberType){k=Number(k)}else{if(n==g.Types.booleanType){k=Boolean(k)}}}return k};g.prototype.remove=function b(k){var l=typeof(k);if(l!="string"){console.error("the type of key is not string");return undefined}if(this.isSystemKey(k)){console.error("the key name is illegal");return undefined}var j=e.sessionStorage.getItem(g.SystemReadyOnly);if(!j){j=[]}else{j=JSON.parse(j)}if(j.indexOf(k)!=-1){console.error("the key is ready only");return}e.sessionStorage.removeItem(k)};g.prototype.clear=function a(){var j=e.sessionStorage.getItem(g.SystemReadyOnly);if(!j){j=[]}else{j=JSON.parse(j)}var n={};for(var l=0;l<j.length;l++){var k=j[l];var m=e.sessionStorage.getItem(k);n[k]=m}e.sessionStorage.clear();if(j){for(var l=0;l<j.length;l++){var k=j[l];var m=n[k];e.sessionStorage.setItem(k,m)}j=JSON.stringify(j);e.sessionStorage.setItem(g.SystemReadyOnly,j)}};var d=new g();return d}));(function(d,c,b){var a=b(d,c,c.document);if(typeof define==="function"){define(a)}c.yufp.service=a}(yufp,window,function(c,b,a){function d(){this.options={method:"POST",async:true,data:{},headers:{"Content-Type":"application/json; charset=UTF-8"},dataType:"json",timeout:9000,cache:false,needToken:true,callback:false};this._filters=[];this.basePath="";this.tokenId="Authorization";this.tokenVal=""}d.prototype.request=function(g){var j=this;var e=c.extend({},j.options,g);e.url=j.getUrl(e);var f=new c.core.Deferred();var h={data:e.data};if(j._doFilter(0,h)===false){h.code=h.code?h.code:2;f.reject(h.code,h.message,h.data);if(e.callback){e.callback(h.code,h.message,h.data)}return f}e.data=h.data.data;e.headers=c.extend({},h.data.headers||{},e.headers);if(e.needToken){e.headers[j.tokenId]="Bearer "+j.getToken()}e.type=g.method;e.async=g.async;e.success=function(n,k,o){if(c.settings.recorderModel&&c.settings.recorderScope.indexOf("yufp.service")!=-1){c.logger.info("[service receive]  url:"+e.url+" ,response:"+JSON.stringify(n))}var m={code:0,message:"success",data:n};if(j._doFilter(1,m)===false){var l=m.code?m.code:1;f.reject(l,m.message,m.data);if(e.callback){e.callback(l,m.message,m.data)}return}f.resolve(m.code,m.message,m.data);if(e.callback){e.callback(m.code,m.message,m.data)}};e.error=function(n,k){var m=n.responseText;m=!m?k:m;var l={code:1,message:m,xhr:n};if(j._doFilter(2,l)===false){f.reject(l.code,l.message,l.data);return}l.code=l.code?l.code:1;f.reject(l.code,l.message,l.data);if(e.callback){e.callback(l.code,l.message,l.data)}};c.core.ajax(e)};d.prototype.getUrl=function(f){f.url=f.url?f.url:f.name;if(!f.url){throw new Error("未设置请求URL")}f.url=f.url.charAt(0)=="/"?f.url:"/"+f.url;var e=c.settings.ssl?"https://":"http://";e+=c.settings.url;e+=this.basePath?this.basePath:"";if(f.url&&f.url.indexOf("http")>-1){e=f.url}else{e+=f.url}return e};d.prototype.getToken=function(){return c.sessionStorage.get("UFP-"+this.tokenId)||""};d.prototype.putToken=function(e){c.sessionStorage.put("UFP-"+this.tokenId,e)};d.prototype.removeToken=function(){c.sessionStorage.remove("UFP-"+this.tokenId)};d.prototype.addFilter=function(e){if(typeof e!="object"){c.logger.error("filter args must been json object");return}if(!e.name){c.logger.error("filter args must have name attribute");return}if(!e.before||typeof e.before!=="function"){c.logger.error("filter args must have before function");return}if(!e.after||typeof e.after!=="function"){c.logger.error("filter args must have after function");return}if(!e.exception||typeof e.exception!=="function"){c.logger.error("filter args must have exception function");return}this._filters.push(e)};d.prototype.removeFilter=function(g){var e=typeof g=="string"?g:g.name;var f=0;for(;f<this._filters.length;f++){if(e==this._filters[f].name){break}}if(f<this._filters.length){this._filters.splice(f,1)}};d.prototype._doFilter=function(g,h){var j="exception";j=g==0?"before":j;j=g==1?"after":j;for(var f=0;f<this._filters.length;f++){if(!this._filters[f][j]){continue}var e=this._filters[f][j](h);if(e===false){return false}}};return new d()}));(function(d,c,b){var a=b(d,c,c.document);if(typeof define==="function"){define(a)}c.yufp.lookup=a}(yufp,window,function(d,b,a){function c(){var e={lookupMgr:{},remoteUrl:backend.adminService+"/api/adminsmlookupitem/weblist",remoteParamName:"codeType",codeKey:"key",codeValue:"value",limit:false,limitLength:100,prefix:"YUFP-LIMIT-TYPE-",localPath:["./custom/common/app.data.lookup.js"]};d.extend(this,e);this.loadLocal()}c.prototype.loadLocal=function(g){var e=this,f=e.localPath;d.require.require(f,function(){for(var k=0,h=f.length;k<h;k++){var j=d.require.use(f[k]);d.extend(e.lookupMgr,j.localLookup)}if(d.type(g)==="function"){g.call(e)}})};c.prototype.loadRemote=function(e,g){var f=this;f.forceLoad(e,function(m){var j=e.split(",");for(var k=0,h=j.length;k<h;k++){var l=j[k];if(!f.limit){f.lookupMgr[l]=m[l]||[]}else{if(m[l].length<f.limitLength){f.lookupMgr[l]=m[l]}else{f.storagePut(f.prefix+l,m[l])}}}})};c.prototype.forceLoad=function(e,h){var f=this;var g={};g[f.remoteParamName]=e;d.service.request({url:f.remoteUrl,method:"get",data:g,callback:function(k,l,j){if(k==0&&j&&d.type(h)=="function"){h.call(this,j.data)}}})};c.prototype.queueHas=function(e){return this.loadingQueue[e]?true:false};c.prototype.queuePush=function(e){this.loadingQueue[e]=true};c.prototype.queuePop=function(e){delete this.loadingQueue[e];return e};c.prototype.storagePut=function(e,f){d.sessionStorage.put(this.prefix+e,JSON.stringify(f))};c.prototype.storageGet=function(e){var f=this;var g=d.sessionStorage.get(this.prefix+e);if(g){g=JSON.parse(g)}else{g=undefined}return g};c.prototype.convert=function(n,l,e,k){var m=this,g=l;var f=m.lookupMgr[n]||m.storageGet[n];if(!f){d.logger.warn("【"+n+"】字典未加载！");return g}for(var h=0,j=f.length;h<j;h++){var o=f[h];if(o[e]===l){g=o[k];break}}return g};c.prototype.reg=function(g,m){var k=this;var j=g.split(","),l=[];for(var f=0,e=j.length;f<e;f++){var h=j[f];if(!k.lookupMgr[h]&&!k.storageGet[h]){l.push(h)}}if(l.length>0){k.loadRemote.call(this,l.join(","),m)}};c.prototype.bind=function(e,h){var f=this;if(d.type(h)!="function"){d.logger.warn("【"+e+"】字典bind方法参数错误")}var g=this.lookupMgr[e]||f.storageGet[e];if(g){h.call(this,g)}else{f.forceLoad(e,function(j){f.lookupMgr[e]=g=j[e];h.call(this,g)})}};c.prototype.find=function(f,e){var g=this;e=e===false?false:true;var h=this.lookupMgr[f]||g.storageGet[f];if(!e){h=!h?{}:g.array2Map(h)}return h};c.prototype.array2Map=function(f){var e=this;f=f?f.reduce(function(g,h){g[h[e.codeKey]]=h[e.codeValue];return g},{}):{};return f};c.prototype.convertKey=function(f,e){return this.convert(f,e,this.codeKey,this.codeValue)};c.prototype.convertValue=function(e,f){return this.convert(e,f,this.codeValue,this.codeKey)};c.prototype.convertMultiKey=function(j,m,n){var h=this;var e=h.lookupMgr[j]||h.storageGet[j];if(!e){d.logger.warn("【"+j+"】字典未加载！");return targetVal}var n=!n?",":n;var o=m.split(n),l=[];for(var f=0,g=o.length;f<g;f++){l.push(h.convertKey(j,o[f]))}return l.join(n)};c.prototype.convertMultiValue=function(j,l,n){var h=this;var e=h.lookupMgr[j]||h.storageGet[j];if(!e){d.logger.warn("【"+j+"】字典未加载！");return targetVal}var n=!n?",":n;var o=l.split(n),m=[];for(var f=0,g=o.length;f<g;f++){m.push(h.convertValue(j,o[f]))}return m.join(n)};return new c()}));(function(d,c,b){var a=b(d,c,c.document);if(typeof define==="function"){define(a)}c.yufp.session=a}(yufp,window,function(h,f,b){function d(){var j={settings:{logoutUrl:backend.uaaService+"/api/logout",userUrl:backend.uaaService+"/api/session/info",userJsonRoot:"",userStoreKey:"YUFP-SESSION-USER",userMapping:{userId:"userId",userName:"userName",userCode:"loginCode",userAvatar:"userAvatar",logicSys:"logicSys",roles:"roles",org:"org",dpt:"dpt",instu:"instu",upOrg:"upOrg",upDpt:"upDpt"},menuUrl:backend.uaaService+"/api/account/menuandcontr",menuRootPid:"0",menuJsonRoot:"menus",menuStoreOgKey:"YUFP-SESSION-MENUS-OG",menuStoreKey:"YUFP-SESSION-MENUS",menuMapping:{mId:"menuId",mText:"menuName",mPid:"upMenuId",mIcon:"menuIcon",routeId:"funcId",routeUrl:"funcUrl"},ctrlUrl:backend.uaaService+"/api/session/menuandcontr",ctrlJsonRoot:"ctrls",ctrlStoreOgKey:"YUFP-SESSION-STRLS-OG",ctrlStoreKey:"YUFP-SESSION-STRLS",ctrlMapping:{mId:"menuId",rId:"funcId",cId:"ctrlCode",cText:"ctrlName"}}};h.extend(this,j)}var e=function(j,k){h.sessionStorage.put(j,JSON.stringify(k))};var g=function(j){var k=this;var l=h.sessionStorage.get(j);if(l){l=JSON.parse(l)}else{l=undefined}return l};var a=function(j){h.sessionStorage.remove(j)};var c=function(n,l){if(!l){return n}var m=l.split(".");for(var k=0,j=m.length;k<j;k++){if(!n){break}n=n[m[k]]}return n};d.prototype.loadUserSession=function(o){var l=function(q){var s=this,r=s.settings.userMapping;for(var p in r){s[p]=q[r[p]]||""}s.user=q;e(s.settings.userStoreKey,s.user)};var n=this;var k=g(n.settings.userStoreKey);var j=g(n.settings.menuStoreOgKey);var m=g(n.settings.ctrlStoreOgKey);if(k&&j){l.call(n,k);n.processMenus(j);n.processCtrls(m);typeof o==="function"?o.call(n):"";return}h.service.request({url:n.settings.userUrl,method:"get",callback:function(q,p,r){var r=c(r,n.settings.userJsonRoot);if(q=="0"&&r){l.call(n,r)}n.loadMenus(o)}})};d.prototype.logout=function(k){var j=this.settings;if(k){h.service.request({url:j.logoutUrl,method:"POST",callback:function(n,m,l){}})}h.service.removeToken();h.router.to("login");a(j.userStoreKey);a(j.menuStoreOgKey);a(j.menuStoreKey);a(j.ctrlStoreOgKey);a(j.ctrlStoreKey)};d.prototype.getCurrentRoute=function(){return h.service.getToken()?"frame":""};d.prototype.loadMenus=function(k){var j=this;h.service.request({url:j.settings.menuUrl,method:"get",callback:function(o,n,p){var m=c(p,j.settings.menuJsonRoot);if(o=="0"&&m){j.processMenus(m);var l=c(p,j.settings.ctrlJsonRoot);if(l){j.processCtrls(l)}typeof k==="function"?k.call(j):""}}})};d.prototype.processMenus=function(p){var s=this,l=s.settings.menuMapping;s.orginalMenus=JSON.parse(JSON.stringify(p));var w=[],n=[];for(var q=0,u=p.length;q<u;q++){var o=p[q];for(var y in l){if(l[y]!=y){o[y]=o[l[y]]||"";delete o[l[y]]}}o.routeId&&o.routeUrl?w.push(o):n.push(o)}var r={};for(var q=0,u=w.length;q<u;q++){var o=w[q],v=false;r[o.routeId]={html:o.routeUrl+".html",js:o.routeUrl+".js"};for(var m=0,z=n.length;m<z;m++){var k=n[m];if(""+o.mPid==""+k.mId){k.children=k.children?k.children:[];k.children.push(o);v=true;break}}if(!v){n.unshift(o)}}h.router.addRouteTable(r);var x=h.util.array2tree(n,{id:"mId",pid:"mPid",root:s.settings.menuRootPid});if(x.children&&x.children.length>0){x.children[0].isIndex=true}s.menus=x.children;e(s.settings.menuStoreOgKey,s.orginalMenus);e(s.settings.menuStoreKey,s.menus)};d.prototype.getMenuTree=function(){return this.menus||g(this.settings.menuStoreKey)};d.prototype.getMenus=function(){return this.orginalMenus||g(this.settings.menuStoreOgKey)};d.prototype.getMenuById=function(n){var l=this.settings;for(var k=0,j=this.orginalMenus.length;k<j;k++){var m=this.orginalMenus[k];if(m[l.menuMapping.mId]==n){return m}}};d.prototype.loadCtrls=function(k){var j=this;h.service.request({url:j.settings.ctrlUrl,method:"get",callback:function(m,l,n){var n=c(n,j.settings.ctrlJsonRoot);if(m=="0"&&n){j.processCtrls(n)}typeof k==="function"?k.call(j):""}})};d.prototype.processCtrls=function(m){if(!m||m.length<1){return}var p=this,k=p.settings.ctrlMapping;p.orginalCtrls=JSON.parse(JSON.stringify(m));var r={},j="",n={};for(var o=0,q=m.length;o<q;o++){var l=m[o];for(var s in k){if(k[s]!=s){l[s]=l[k[s]]||"";delete l[k[s]]}}if(j==l.mId){n[l.cId]=1}else{if(j!==""){r[j]=n}j=l.mId;n={};n[l.cId]=1}}if(j!==""){r[j]=n}p.ctrls=r;e(p.settings.ctrlStoreOgKey,p.orginalCtrls);e(p.settings.ctrlStoreKey,p.ctrls)};d.prototype.checkCtrl=function(l,m,k){var j=this.ctrls;m=m?m:"";if(!m){m=k?"":h.frame.tab().url}if(!l||!j||!m){return false}if(j&&m&&j[m]&&j[m][l]){return false}return true};return new d()}));(function(d,c,b){var a=b(d,c,c.document);if(typeof define==="function"){define(a)}c.yufp.frame=a}(yufp,window,function(e,f,g){function k(){var n={maxOpenTabs:10,isMenuRefresh:false,tabRefresh:true,tabDoubleClickRefresh:true,tabsTargetId:"yu-idxTabs",tabBoxTargetId:"yu-idxTabBox",tabDropdownMenuBtId:"yu-idxTabDMenuBt",tabDropdownMenuWidth:140,tabButtonOutWidth:34,model:0,models:["frame","frameRight","frameTop"],heightDifference:[35,35,123],idxMenuSwiper:null,sysTools:{ownerId:"yu-sysTools",tools:[{show:true,text:"收缩/展开",icon:"el-icon-yx-menu",className:"sidebar-toggler",id:"yu-sidebar"},{show:true,text:"切换模式",icon:"el-icon-yx-switch-1",className:"",id:"yu-switch"},{show:true,text:"设置主题",icon:"el-icon-yx-themes-1",className:"",id:"yu-themes"},{show:false,text:"常用功能",icon:"el-icon-yx-star-empty",className:"",id:"yu-common"},{show:true,text:"修改密码",icon:"el-icon-yx-key2",className:"",id:"yu-modifyPassword"},{show:false,text:"选择语言",icon:"el-icon-yx-sphere",className:"",id:"yu-language"}]},modifyPassword:{modifyPassword:{html:"pages/common/frame/modifyPassword.html",js:"pages/common/frame/modifyPassword.js"}},TEMP_loginUser:{name:"YUFP",role:[{id:"Administrator",code:"Administrator",name:"Administrator"}],picUrl:"themes/default/images/user_default_pic.png"},themes:[{id:"default",name:"默认"},{id:"orange",name:"橙色"},{id:"simple",name:"简约"}],language:[{id:"zh",name:"中文"},{id:"en",name:"English"}]};e.extend(this,n)}k.prototype.init=function(){c();j();h();$(f).resize(function(){h()})};var h=function(){var n=e.frame;$("#"+n.tabBoxTargetId).height(n.size().height);$("#"+n.tabBoxTargetId+">div").height(n.size().height);b()};var b=function(){var r=e.frame;var p=function(s){return s?$(s).width()+r.tabButtonOutWidth:0};var o=function(){return $("#"+r.tabsTargetId+">div").width()};var n=function(){return $("#"+r.tabsTargetId).width()-r.tabDropdownMenuWidth-10};var q=function(s){return s=="hidden"?$("#"+r.tabsTargetId+">div>a:hidden"):$("#"+r.tabsTargetId+">div>a:gt(0):not(.ck)").not("a:hidden")};if(o()>n()){q().each(function(s,u){$(u).hide();if(o()<n()){return false}})}else{q("hidden").each(function(s,u){if((o()+p(u))<n()){$(u).show()}})}};var a=function(){var n=e.frame;if(g.getElementById("frameTop")){n.model=2}else{if(g.getElementById("frameRight")){n.model=1}else{n.model=0}}return n.model};var j=function(){var o=e.frame;if(o.sysTools.ownerId){var n="";$(o.sysTools.tools).each(function(p,q){if(q.show){n+='<span id="'+q.id+'" class="'+q.className+" "+q.icon+'" title="'+q.text+'"></span>'}});$("#"+o.sysTools.ownerId).append(n);$("#yu-sidebar").bind("click",function(){setTimeout(function(){o.idxMenuSwiper.resizeFix()},50)});$("#yu-switch").bind("click",function(){e.router.to(o.models[(o.model+1)>=o.models.length?0:o.model+1])});$("#yu-language").bind("click",function(u){var s=this;var p=function(w){var v=w.offsetLeft;var z=w.offsetTop+w.clientHeight+5;do{w=w.offsetParent;v+=w.offsetLeft}while(w.tagName!="BODY");return{x:v-25+"px",y:z+"px"}};var u=event||f.event;if($("#yu-languageList").size()>0){$("#yu-languageList").css({left:p(s).x,top:p(s).y}).fadeToggle()}else{var r='<div id="yu-languageList" class="yu-languageList"><i></i>';for(var q=0;q<o.language.length;q++){r+='<span language="'+o.language[q].id+'" title="'+o.language[q].name+'">'+o.language[q].name+"</span>"}r+="</div>";$("body").append(r).find("#yu-languageList").css({left:p(s).x,top:p(s).y}).fadeIn().bind("mouseleave",function(){$(this).hide()}).find("span").bind("click",function(){var v=$(this).attr("language");$("#yu-languageList").hide();alert(v)})}});$("#yu-themes").bind("click",function(u){var s=this;var p=function(w){var v=w.offsetLeft;var z=w.offsetTop+w.clientHeight+5;do{w=w.offsetParent;v+=w.offsetLeft}while(w.tagName!="BODY");return{x:v-25+"px",y:z+"px"}};var u=event||f.event;if($("#yu-themesList").size()>0){$("#yu-themesList").css({left:p(s).x,top:p(s).y}).fadeToggle()}else{var r='<div id="yu-themesList" class="yu-themesList"><i></i>';for(var q=0;q<o.themes.length;q++){r+='<span class="'+o.themes[q].id+'" themes="'+o.themes[q].id+'" title="'+o.themes[q].name+'"><i></i>'+o.themes[q].name+"</span>"}r+="</div>";$("body").append(r).find("#yu-themesList").css({left:p(s).x,top:p(s).y}).fadeIn().bind("mouseleave",function(){$(this).hide()}).find("span").bind("click",function(){var v="default";$("link[rel=stylesheet]").each(function(w,x){for(var w=0;w<o.themes.length;w++){if(x.href.indexOf("themes/"+o.themes[w].id)>0){x.href=x.href.replace("themes/"+o.themes[w].id,"themes/"+v)}}});$("#yu-themesList").hide()})}});$("#yu-common").bind("click",function(){});$("#yu-modifyPassword").bind("click",function(){e.router.addRouteTable(o.modifyPassword);var p={id:"modifyPassword",title:"修改密码",key:"custom_20180108174856"};o.addTab(p)})}$("#yu-exit").click(function(){o.exit()})};var c=function(){var p=e.session.userName||e.frame.TEMP_loginUser.name;var r=e.session.roles||e.frame.TEMP_loginUser.role;var s=[];for(var q=0,n=r.length;q<n;q++){s.push(r[q].name)}var o=e.session.userAvatar||e.frame.TEMP_loginUser.picUrl;g.getElementById("userName").innerHTML+=p;g.getElementById("userRole").innerHTML+="("+s.join(",")+")";g.getElementById("userPic").src=o;g.getElementById("userPic").title=p+"/"+s};var m=function(n,r){var s=e.frame;var q=function(v,w){var u=g.createElement("span");u.innerHTML=r;u.title=r;u.setAttribute("data-key",n);if(v!=0){var x=g.createElement("i");x.title="关闭";u.appendChild(x);x.addEventListener("click",function(){$(u).remove();s.removeTab(v);o();return})}$("#"+s.tabDropdownMenuBtId+">div").append(u);o();u.addEventListener("click",function(){s.focusTab(v)})};var p=function(){var w=g.createElement("a");w.id=s.tabDropdownMenuBtId;w.href="javascript:void(0)";var v=g.createElement("div");var u=g.createElement("span");u.innerHTML="关闭全部";u.title="关闭全部";v.appendChild(u);w.appendChild(v);$("#"+s.tabsTargetId).append(w);u.addEventListener("click",function(){s.removeAllTab();$("#"+s.tabDropdownMenuBtId+" span:gt(1)").remove();o()})};var o=function(){$("#"+s.tabDropdownMenuBtId+">div>span").size()>2?$("#"+s.tabDropdownMenuBtId).show():$("#"+s.tabDropdownMenuBtId).hide()};if($("#"+s.tabDropdownMenuBtId).size()<1){p(n,r)}if($("#"+s.tabDropdownMenuBtId+' span[data-key="'+n+'"').size()<1){q(n,r)}};var d=function(n){var o=e.frame;$("#"+o.tabDropdownMenuBtId+' span[data-key="'+n+'"').remove();$("#"+o.tabDropdownMenuBtId+" span").size()>2?$("#"+o.tabDropdownMenuBtId).show():$("#"+o.tabDropdownMenuBtId).hide()};var l=function(o){var s=e.frame;var q=event||f.event;g.all?q.returnValue=false:q.preventDefault();var r=function(){o==0?$(".yu-tabContextmenu a:eq(1)").hide():$(".yu-tabContextmenu a:eq(1)").show();$(".yu-tabContextmenu").attr("data-key",o).css({left:q.clientX+"px",top:q.clientY+"px"}).fadeIn("fast")};var n=function(){$(".yu-tabContextmenu").fadeOut("fast")};var p=function(){var u,y,w,v,x;u=g.createElement("div");u.className="yu-tabContextmenu";w=g.createElement("a");v=g.createElement("a");x=g.createElement("a");w.innerHTML="关闭当前";v.innerHTML="关闭其它";x.innerHTML="关闭全部";w.href="javascript:void(0)";v.href="javascript:void(0)";x.href="javascript:void(0)";if(s.tabRefresh){y=g.createElement("a");y.innerHTML="刷新当前";y.href="javascript:void(0)";u.appendChild(y);$(y).bind("click",function(){var z=$("#"+s.tabsTargetId+' a[data-key="'+$(u).attr("data-key")+'"]').attr("data-url");s.focusTab($(u).attr("data-key"));s.refreshTab($(u).attr("data-key"))})}u.appendChild(w);u.appendChild(v);u.appendChild(x);g.body.appendChild(u);$(u).bind("mouseleave",function(){n()});$(g).bind("click",function(){n()});r();$(w).bind("click",function(){s.removeTab($(u).attr("data-key"))});$(v).bind("click",function(){s.removeOtherTab($(u).attr("data-key"))});$(x).bind("click",function(){s.removeAllTab()})};$(".yu-tabContextmenu").size()>0?r():p()};k.prototype.size=function(){a();return{width:f.top.document.body.clientWidth-$(".page-sidebar").width(),height:f.top.document.body.clientHeight-this.heightDifference[this.model]}};k.prototype.addTab=function(x){var q=this;var n,v,w,p;if(!x||x.id==undefined){return}n=x.id;v=x.title?x.title:"Tab Title";w=x.key?x.key:"other_"+q.getTimestamp();p=x.data?x.data:"";var o="tabBox_"+w;if($("#"+o).size()>0){q.focusTab(w)}else{if($("#"+q.tabsTargetId+">div>a").length>=q.maxOpenTabs&&q.maxOpenTabs!=0){q.removeTab($("#"+q.tabsTargetId+">div>a:eq(1)").attr("data-key"))}var s=w==0?"":'<i title="关闭"></i>';var u='<a class="ck" href="javascript:void(0);" title="'+v+'" data-url="'+n+'"  data-key="'+w+'">'+v+s+"</a>";$("#"+q.tabsTargetId+">div").find("a[class=ck]").removeClass("ck").end().append(u).find('a[data-key="'+w+'"]').bind("click",function(){q.focusTab($(this).attr("data-key"))}).bind("dblclick",function(){q.tabDoubleClickRefresh?q.refreshTab($(this).attr("data-key")):""}).bind("contextmenu",function(){l($(this).attr("data-key"))}).data("data",p).find("i").bind("click",function(){q.removeTab($(this).parent().attr("data-key"))});var r='<div class="ck" data-key="'+w+'" id="'+o+'" style="height:'+q.size().height+'px;overflow:auto;overflow-x: hidden;"></div>';$("#"+q.tabBoxTargetId).find("div[class=ck]").removeClass("ck").end().append(r);q.focusMenu(w);m(w,v);e.bus.put("_frame",w,n);e.router.to(n,p,o);b()}return w};k.prototype.focusTab=function(n){var o=this;$("#"+o.tabsTargetId+'>div>a[data-key="'+n+'"]').show().addClass("ck").siblings().removeClass("ck");$("#"+o.tabBoxTargetId+'>div[data-key="'+n+'"]').addClass("ck").siblings().removeClass("ck");o.focusMenu(n);if(o.isMenuRefresh){o.refreshTab(n)}b()};k.prototype.refreshTab=function(n){var p=this;var n=n?n:p.tab().key;var o=p.tab(n);e.router.to(o.url,o.data,o.boxId)};k.prototype.removeTab=function(n){var p=this;n=n?n:$("#"+p.tabsTargetId+">div>a[class=ck]").attr("data-key");e.router.unMount(p.tab(n).boxId);var o=$("#"+p.tabsTargetId+'>div>a[data-key="'+n+'"]');if(o.hasClass("ck")){o.prev().click()}o.remove();$("#"+p.tabBoxTargetId+'>div[data-key="'+n+'"]').remove();$('a.yu-isMenu[data-key="'+n+'"]').attr("data-key","");d(n);b()};k.prototype.removeAllTab=function(){var o=this;var n=$("#"+o.tabsTargetId+">div>a:not(:first)");n.each(function(p,q){o.removeTab($(q).attr("data-key"))})};k.prototype.removeOtherTab=function(n){var p=this;var o=$("#"+p.tabsTargetId+">div>a:not(:first)");o.each(function(q,r){if($(r).attr("data-key")!=n){p.removeTab($(r).attr("data-key"))}})};k.prototype.tab=function(n){var p=this;var n=n||$("#"+p.tabsTargetId+">div>a[class=ck]").attr("data-key");var o=$("#"+p.tabsTargetId+">div>a[data-key="+n+"]");return{key:n,url:o.attr("data-url"),title:o.attr("title"),data:o.data("data"),index:o.index(),boxId:$("#"+p.tabBoxTargetId+">div[data-key="+n+"]").attr("id")}};k.prototype.focusMenu=function(n){var o=this;if(o.model==2){$(".yu-topFirstMenus").removeClass("ck");$('a.yu-isMenu[data-key="'+$("#"+o.tabsTargetId+">div>a[class*=ck]").first().attr("data-key")+'"]').parents().children(".yu-topFirstMenus").addClass("ck")}else{$(".page-sidebar-menu li").removeClass("active").removeClass("open");$('a.yu-isMenu[data-key="'+$("#"+o.tabsTargetId+">div>a[class*=ck]").first().attr("data-key")+'"]').parents("li").addClass("active").addClass("open")}};k.prototype.menuClick=function(n,p){var o=this;$(n).bind("click",function(){var s=$(this),u=s.attr("data-key");if(u){o.focusTab(u);o.focusMenu(u)}else{u="menu_"+s.attr("data-mId");s.attr("data-key",u);var q={id:s.attr("data-url"),path:s.attr("data-path"),title:s.text(),key:u};var r={userId:e.session.userId,orgId:e.session.org.code,menuId:q.key,operFlag:"访问",logTypeId:"7",beforeValue:"",afterValue:"",content:"访问菜单:"+q.title+"路径:"+q.path};e.util.logInfo(r,"/example/log/menu");o.addTab(q)}if(p&&e.type(p)=="function"){p.call(this)}})};k.prototype.getTimestamp=function(){return(new Date()).valueOf()};k.prototype.exit=function(){e.session.logout()};return new k()}));define(function(b,a){yufp.custom=a;a.vue=function(d){return new Vue(d)};a.getData=function(f){var e={};for(var d in f){if(d.indexOf("m_")===0||d.indexOf("$")===0){continue}var g=f[d];if(typeof g==="function"){continue}e[d]=f[d]}return e};a.setData=function(f,e){for(var d in f){e[d]=f[d]}return e};a.viewSize=function c(){return yufp.frame.size()}});